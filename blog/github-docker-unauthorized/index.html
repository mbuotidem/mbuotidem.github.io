<!DOCTYPE html>
<html lang="en" >

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="base" content="https://misaac.me">

    
    <title>Isaac on DevSecOps • GitHub - Resolving Error response from daemon: Head : unauthorized</title>

    
    
    

    
    

    
    
    
        <link rel="stylesheet" href="https://misaac.me/inter_subset_en.css?h=d8cf4ad058d6c3a4015b">
    

    
        <link rel="stylesheet" href="https://misaac.me/main.css?h=f8b119c70beffb77ac87" />

    <meta name="color-scheme" content="light dark" />
        <meta name="description" content="Shows how to successfully pull an image from GitHub Package Registry" />
        <meta property="og:description" content="Shows how to successfully pull an image from GitHub Package Registry" />

    
        <meta name="robots" content="index, nofollow" />
    

    <meta property="og:title" content="GitHub - Resolving Error response from daemon: Head : unauthorized" />
    <meta property="og:type" content="article" />

    
<meta property="og:locale" content="en_GB" />

    <meta property="og:url" content="https:&#x2F;&#x2F;misaac.me&#x2F;blog&#x2F;github-docker-unauthorized&#x2F;" /><meta property="og:site_name" content="Isaac on DevSecOps"><meta http-equiv="Content-Security-Policy"
content="default-src 'self';font-src &#x27;self&#x27; data:;img-src &#x27;self&#x27; https:&#x2F;&#x2F;* data:;media-src &#x27;self&#x27;;style-src &#x27;self&#x27; https:&#x2F;&#x2F;emgithub.com &#x27;unsafe-inline&#x27; https:&#x2F;&#x2F;emgithub.misaac.me &#x27;unsafe-inline&#x27; https:&#x2F;&#x2F;gist.github.com &#x27;unsafe-inline&#x27; https:&#x2F;&#x2F;github.githubassets.com &#x27;unsafe-inline&#x27;;frame-src player.vimeo.com https:&#x2F;&#x2F;www.youtube-nocookie.com https:&#x2F;&#x2F;emgithub.com https:&#x2F;&#x2F;emgithub.misaac.me;connect-src 'self';script-src 'self' 'self' https://gist.github.com">

        <noscript><link rel="stylesheet" href="https://misaac.me/no_js.css"/></noscript>
        <script type="text/javascript" src="https://misaac.me/js/initializeTheme.min.js"></script>
        <script defer src="https://misaac.me/js/themeSwitcher.min.js"></script></head>


<body class="use-sans-serif">
    <header>
    <nav class="navbar">
        <div class="nav-title">
            <a class="home-title" href="https://misaac.me">Isaac on DevSecOps</a>
        </div>
            <div class="nav-navs">
                <ul>
                        
                            <li>
                                
                                
                                    <a class="nav-links no-hover-padding" href="https://misaac.me/blog/">
                                
                                blog
                                </a>
                            </li>
                        
                            <li>
                                
                                
                                    <a class="nav-links no-hover-padding" href="https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;miisaac&#x2F;" target="_blank" rel="noopener noreferrer">
                                
                                linkedin
                                </a>
                            </li>
                        
                            <li>
                                
                                
                                    <a class="nav-links no-hover-padding" href="https:&#x2F;&#x2F;github.com&#x2F;mbuotidem&#x2F;" target="_blank" rel="noopener noreferrer">
                                
                                github
                                </a>
                            </li>
                        
                            <li>
                                
                                
                                    <a class="nav-links no-hover-padding" href="https://misaac.me/tags/">
                                
                                tags
                                </a>
                            </li>
                        <div class="nav-navs" id="menu-icons-group">
                        

                        
                        

                        <li class="theme-switcher-wrapper js"><div
        title="Toggle dark&#x2F;light mode"
        class="theme-switcher"
        tabindex="0"
        role="button"
        aria-label="Toggle dark mode"
        aria-pressed="false">
    </div><div
        title="Reset mode to default"
        class="theme-resetter arrow"
        tabindex="0"
        role="button"
        aria-hidden="true"
        aria-label="Reset mode to default">
    </div>

</li>
</div>
                </ul>
            </div>
        
    </nav>
</header>

    <div class="content">

        
        




<main>
    <article>
        <h1 class="article-title">
            GitHub - Resolving Error response from daemon: Head : unauthorized
        </h1>

        <ul class="meta">
                <li>3rd Oct 2024</li>
                <li title="284 words"><span class='separator' aria-hidden='true'>•</span>2 min read</li><li class="tag"><span class='separator' aria-hidden='true'>•</span>Tags:&nbsp;</li><li class="tag"><a href="https://misaac.me/tags/docker/">docker</a>,&nbsp;</li><li class="tag"><a href="https://misaac.me/tags/github/">GitHub</a>,&nbsp;</li><li class="tag"><a href="https://misaac.me/tags/github-cli/">GitHub CLI</a></li>
        </ul>

        <section class="body"><h1 id="problem-statement"><a class="header-anchor no-hover-padding" href="#problem-statement" aria-label="Anchor link for: problem-statement"><span class="link-icon" aria-hidden="true"></span></a>
Problem Statement</h1>
<p><strong>You get an unathorized error when trying to pull an image from GitHub.</strong></p>
<p>This generally happens because you either don't have a GitHub token set up, or your token doesn't have the right permissions.</p>
<h2 id="install-and-setup-the-github-cli"><a class="header-anchor no-hover-padding" href="#install-and-setup-the-github-cli" aria-label="Anchor link for: install-and-setup-the-github-cli"><span class="link-icon" aria-hidden="true"></span></a>
Install and setup the GitHub CLI</h2>
<p>While you can setup a GitHub token manually by going to https://github.com/settings/tokens?type=beta, I prefer to just use the <code>gh auth token</code> feature of the <a href="https://cli.github.com/">GitHub CLI</a>.</p>
<h3 id="setup-github-cli"><a class="header-anchor no-hover-padding" href="#setup-github-cli" aria-label="Anchor link for: setup-github-cli"><span class="link-icon" aria-hidden="true"></span></a>
Setup GitHub CLI</h3>
<ol>
<li>Install the <a href="https://cli.github.com/">GitHub CLI</a> using the instructions <a href="https://cli.github.com/">here</a>.</li>
<li>Login using <code>github auth login</code> and follow the instructions in your terminal to authenticate in your browser using the one-time code that will appear<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gh</span></span><span class="z-meta z-function-call z-arguments z-shell"> auth login</span>
</span></code></pre>
</li>
<li>Verify you're successfully logged in with <code>gh auth status</code>. You should see something like:<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gh</span></span><span class="z-meta z-function-call z-arguments z-shell"> auth status</span>
</span></code></pre>
 <pre><code style="line-height: 20%;">
 ➜ gh auth status

 github.com
 
 ✓ Logged in to github.com account mbuotidem (keyring)

 \- Active account: true

 \- Git operations protocol: ssh

 \- Token: gho_************************************

 \- Token scopes: 'admin:public_key', 'gist', 'read:org', 'repo'

 </code></pre>
</li>
</ol>
<h3 id="grant-yourself-the-packages-read-scope"><a class="header-anchor no-hover-padding" href="#grant-yourself-the-packages-read-scope" aria-label="Anchor link for: grant-yourself-the-packages-read-scope"><span class="link-icon" aria-hidden="true"></span></a>
Grant yourself the packages read scope</h3>
<ol>
<li>Run <code>gh auth refresh</code> passing in the desired scope. Follow the instructions in your terminal to authenticate in your browser using the one-time code that will appear<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gh</span></span><span class="z-meta z-function-call z-arguments z-shell"> auth refresh<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>scopes</span> read:packages</span>
</span></code></pre>
</li>
</ol>
<h3 id="docker-login-and-try-to-pull-again"><a class="header-anchor no-hover-padding" href="#docker-login-and-try-to-pull-again" aria-label="Anchor link for: docker-login-and-try-to-pull-again"><span class="link-icon" aria-hidden="true"></span></a>
Docker login and try to pull again</h3>
<ol>
<li>Pipe the auth token into the docker login command - make sure to replace <code>mbuotidem</code> with your GitHub username<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">gh</span></span><span class="z-meta z-function-call z-arguments z-shell"> auth token</span> <span class="z-keyword z-operator z-logical z-pipe z-shell">|</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docker</span></span><span class="z-meta z-function-call z-arguments z-shell"> login ghcr.io<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>u</span> mbuotidem<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>password-stdin</span></span>
</span></code></pre>
</li>
<li>You can now pull the image<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docker</span></span><span class="z-meta z-function-call z-arguments z-shell"> pull ghcr.io/mbuotidem/mbuotidem.github.io:main  </span>
</span></code></pre>
</li>
</ol>
<p>If you need to grant yourself other scopes, learn more about available scopes <a href="https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry#authenticating-with-a-personal-access-token-classic">here</a>
To learn more about available GitHub CLI commands, go <a href="https://cli.github.com/manual/gh">here</a></p>

        </section>

        
                
                
                    
                        
                        
                        
                    
                    
                
                
            <nav class="full-width article-navigation">
                <div><a href="https://misaac.me/blog/fasthtml-aws-lambda-tutorial/" aria-label="Next" aria-describedby="left_title"><span class="arrow">←</span>&nbsp;Next</a>
                <p aria-hidden="true" id="left_title">Tutorial: Create a FastHTML app that runs on AWS Lambda</p></div>
                <div></div>
            </nav>
        
        

        
            
            
            

            
        
            
            
            

            
        
            
            
            

            
        
            
            
            

            
        
        

    </article>
</main>

    <div id="button-container">
        
        
            <div id="toc-floating-container">
                <input type="checkbox" id="toc-toggle" class="toggle"/>
                <label for="toc-toggle" class="overlay"></label>
                <label for="toc-toggle" id="toc-button" class="button" title="Toggle Table of Contents">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M414.82-193.094q-18.044 0-30.497-12.32-12.453-12.319-12.453-30.036t12.453-30.086q12.453-12.37 30.497-12.37h392.767q17.237 0 29.927 12.487 12.69 12.486 12.69 30.203 0 17.716-12.69 29.919t-29.927 12.203H414.82Zm0-244.833q-18.044 0-30.497-12.487Q371.87-462.9 371.87-480.45t12.453-29.92q12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.511 12.69 12.512 12.69 29.845 0 17.716-12.69 30.086-12.69 12.37-29.927 12.37H414.82Zm0-245.167q-18.044 0-30.497-12.32t-12.453-30.037q0-17.716 12.453-30.086 12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.486 12.69 12.487 12.69 30.203 0 17.717-12.69 29.92-12.69 12.203-29.927 12.203H414.82ZM189.379-156.681q-32.652 0-55.878-22.829t-23.226-55.731q0-32.549 23.15-55.647 23.151-23.097 55.95-23.097 32.799 0 55.313 23.484 22.515 23.484 22.515 56.246 0 32.212-22.861 54.893-22.861 22.681-54.963 22.681Zm0-245.167q-32.652 0-55.878-23.134-23.226-23.135-23.226-55.623 0-32.487 23.467-55.517t56.12-23.03q32.102 0 54.721 23.288 22.62 23.288 22.62 55.775 0 32.488-22.861 55.364-22.861 22.877-54.963 22.877Zm-.82-244.833q-32.224 0-55.254-23.288-23.03-23.289-23.03-55.623 0-32.333 23.271-55.364 23.272-23.03 55.495-23.03 32.224 0 55.193 23.288 22.969 23.289 22.969 55.622 0 32.334-23.21 55.364-23.21 23.031-55.434 23.031Z"/></svg>
                </label>
                <div class="toc-content">
                    

<div class="toc-container">
    

    <ul>
        
            
            
                <li><a href="https://misaac.me/blog/github-docker-unauthorized/#problem-statement">Problem Statement</a>
                    
                        <ul>
                            
                                
                                    <li><a href="https://misaac.me/blog/github-docker-unauthorized/#install-and-setup-the-github-cli">Install and setup the GitHub CLI</a>
                                        
                                            <ul>
                                                
                                                    
                                                        <li><a href="https://misaac.me/blog/github-docker-unauthorized/#setup-github-cli">Setup GitHub CLI</a>
                                                            
                                                        </li>
                                                    
                                                
                                                    
                                                        <li><a href="https://misaac.me/blog/github-docker-unauthorized/#grant-yourself-the-packages-read-scope">Grant yourself the packages read scope</a>
                                                            
                                                        </li>
                                                    
                                                
                                                    
                                                        <li><a href="https://misaac.me/blog/github-docker-unauthorized/#docker-login-and-try-to-pull-again">Docker login and try to pull again</a>
                                                            
                                                        </li>
                                                    
                                                
                                            </ul>
                                        
                                    </li>
                                
                            
                        </ul>
                    
                </li>
            
        
    </ul>
</div>


                </div>
            </div>
        

        
        

        
        <a href="#" id="top-button" class="no-hover-padding" title="Go to the top of the page">
            <svg viewBox="0 0 20 20" fill="currentColor"><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg>
        </a>
    </div>


<span id="copy-success" class="hidden">
        Copied!
    </span>
    <span id="copy-init" class="hidden">
        Copy code to clipboard
    </span>
    <script defer src="https://misaac.me/js/copyCodeToClipboard.min.js"></script>
    </div>
    <footer>
    <section>
        <nav class="socials nav-navs">
        </nav>

        
        <nav class="nav-navs">
        </nav>

        <div class="credits">
            <small>
                
    
    
    
    
        
    
        
    

    

    
    
    

    
    
    <p><p>© 2025 Isaac M • Except where otherwise noted , content on this site is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> license.</p>
</p>

                </small>
        </div>
    </section>

    </footer>

</body>

</html>
